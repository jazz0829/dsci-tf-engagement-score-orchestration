{
    "version": 3,
    "terraform_version": "0.11.13",
    "serial": 8,
    "lineage": "09651cf2-8d1c-84dc-6ac1-37cb4464ae94",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_dynamodb_table.dynamodb_engagement_score_model_table": {
                    "type": "aws_dynamodb_table",
                    "depends_on": [
                        "local.dsci_dynamo_table_name"
                    ],
                    "primary": {
                        "id": "dsci-cs-bookmark-table",
                        "attributes": {
                            "arn": "arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table",
                            "attribute.#": "2",
                            "attribute.395259099.name": "Mode",
                            "attribute.395259099.type": "S",
                            "attribute.4182347620.name": "Category",
                            "attribute.4182347620.type": "S",
                            "billing_mode": "PROVISIONED",
                            "global_secondary_index.#": "0",
                            "hash_key": "Mode",
                            "id": "dsci-cs-bookmark-table",
                            "local_secondary_index.#": "0",
                            "name": "dsci-cs-bookmark-table",
                            "point_in_time_recovery.#": "1",
                            "point_in_time_recovery.0.enabled": "false",
                            "range_key": "Category",
                            "read_capacity": "5",
                            "server_side_encryption.#": "0",
                            "stream_arn": "",
                            "stream_enabled": "false",
                            "stream_label": "",
                            "stream_view_type": "",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "ttl.#": "1",
                            "ttl.0.attribute_name": "",
                            "ttl.0.enabled": "false",
                            "write_capacity": "5"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000,
                                "delete": 600000000000,
                                "update": 3600000000000
                            },
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role.state_machine_role": {
                    "type": "aws_iam_role",
                    "depends_on": [
                        "data.aws_iam_policy_document.state_machine_assume_role_policy_document",
                        "local.dsci_engagement_score_state_machine_role_name"
                    ],
                    "primary": {
                        "id": "dsci-cs-engagement-score-step-function-iam-role",
                        "attributes": {
                            "arn": "arn:aws:iam::428785023349:role/dsci-cs-engagement-score-step-function-iam-role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"states.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-12-20T14:07:12Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "dsci-cs-engagement-score-step-function-iam-role",
                            "max_session_duration": "3600",
                            "name": "dsci-cs-engagement-score-step-function-iam-role",
                            "path": "/",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "unique_id": "AROAWHVMUHF25GE5FGKTF"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_iam_role_policy.iam_policy_for_state_machine": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.state_machine_role",
                        "data.aws_iam_policy_document.state_machine_iam_policy_document",
                        "local.dsci_engagement_score_state_machine_policy_name"
                    ],
                    "primary": {
                        "id": "dsci-cs-engagement-score-step-function-iam-role:dsci-cs-engagement-score-step-function-iam-role-invoke-policy",
                        "attributes": {
                            "id": "dsci-cs-engagement-score-step-function-iam-role:dsci-cs-engagement-score-step-function-iam-role-invoke-policy",
                            "name": "dsci-cs-engagement-score-step-function-iam-role-invoke-policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"lambda:InvokeFunction\",\n      \"Resource\": [\n        \"arn:aws:lambda:*:*:function:dsci*\",\n        \"arn:aws:lambda:*:*:function:cig-sagemaker*\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:*\",\n        \"lambda:InvokeFunction\",\n        \"iam:PassRole\",\n        \"elasticmapreduce:terminateJobFlows\",\n        \"elasticmapreduce:addJobFlowSteps\",\n        \"elasticmapreduce:RunJobFlow\",\n        \"elasticmapreduce:DescribeStep\",\n        \"elasticmapreduce:DescribeCluster\"\n      ],\n      \"Resource\": [\n        \"arn:aws:lambda:*:*:function:cig-start-glue-crawler\",\n        \"arn:aws:lambda:*:*:function:cig-get-glue-crawler-status\",\n        \"*\"\n      ]\n    }\n  ]\n}",
                            "role": "dsci-cs-engagement-score-step-function-iam-role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_accountancy_feature": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/accountancy_feature.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "eaf0e8b62f118549a740cf698f131d2f",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/accountancy_feature.py",
                            "key": "scripts/EMR/common/accountancy_feature.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/accountancy_feature.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_accounting_established": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/accounting_established.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "75be89f45f60bcf866151aca40f7ccd4",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/accounting_established.py",
                            "key": "scripts/EMR/common/accounting_established.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/accounting_established.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_accounting_onboarding": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/accounting_onboarding.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "6bcee7cadc47da41dcf844f0c43fd311",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/accounting_onboarding.py",
                            "key": "scripts/EMR/common/accounting_onboarding.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/accounting_onboarding.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_common_feature": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/common_feature.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "8322328eb315b6ae5868b8e3eec40c7e",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/common_feature.py",
                            "key": "scripts/EMR/common/common_feature.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/common_feature.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_common_zip": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common.zip",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "5336194245eea39633ccdd00175cf309",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common.zip",
                            "key": "scripts/EMR/common.zip",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common.zip",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_config": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/config.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "a1369cde798ce4b9014e8da874cd9fa7",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/config.py",
                            "key": "scripts/EMR/common/config.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/config.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_contractprediction": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/contractprediction.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "d81cd65e626fac4fde78cdffe236cc15",
                            "force_destroy": "false",
                            "id": "scripts/EMR/contractprediction.py",
                            "key": "scripts/EMR/contractprediction.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/contractprediction.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_logistic_regression": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/logistic_regression.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "53f23b22024dbadcf2ab6b4d23a2ced9",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/logistic_regression.py",
                            "key": "scripts/EMR/common/logistic_regression.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/logistic_regression.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_manufacturing_feature": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/manufacturing_feature.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "377b8b8d35cfb9e33b8a973c7e6ef056",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/manufacturing_feature.py",
                            "key": "scripts/EMR/common/manufacturing_feature.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/manufacturing_feature.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_model_operation": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/model_operation.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "949e6c2d44c81b677d73756c37852f03",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/model_operation.py",
                            "key": "scripts/EMR/common/model_operation.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/model_operation.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_other_feature": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/other_feature.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "15fb0a3d58d1ff7e9c330beb8042a7e6",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/other_feature.py",
                            "key": "scripts/EMR/common/other_feature.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/other_feature.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_professional_services_features": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/professional_services_features.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "17d2c0d513db9163bf97188877e67764",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/professional_services_features.py",
                            "key": "scripts/EMR/common/professional_services_features.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/professional_services_features.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_stratified_cross_validator": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/stratified_cross_validator.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "94fbe183360fbaa8ec72811c1b97ec35",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/stratified_cross_validator.py",
                            "key": "scripts/EMR/common/stratified_cross_validator.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/stratified_cross_validator.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_utils": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/utils.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "994338be2f471fbc564e65d138009818",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/utils.py",
                            "key": "scripts/EMR/common/utils.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/utils.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.contract_prediction_wholesale_distribution_feature": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/common/wholesale_distribution_feature.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "9f8a613f1460d3321283e1aed28e5523",
                            "force_destroy": "false",
                            "id": "scripts/EMR/common/wholesale_distribution_feature.py",
                            "key": "scripts/EMR/common/wholesale_distribution_feature.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/common/wholesale_distribution_feature.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.engagement_score_dependencies": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/install_dependencies.sh",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "97bdb3e01a8ab63a1b4951868af96c3c",
                            "force_destroy": "false",
                            "id": "scripts/EMR/install_dependencies.sh",
                            "key": "scripts/EMR/install_dependencies.sh",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/install_dependencies.sh",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_s3_bucket_object.process_emr_engagement_score_requests": {
                    "type": "aws_s3_bucket_object",
                    "depends_on": [],
                    "primary": {
                        "id": "scripts/EMR/main.py",
                        "attributes": {
                            "acl": "private",
                            "bucket": "dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "cache_control": "",
                            "content_disposition": "",
                            "content_encoding": "",
                            "content_language": "",
                            "content_type": "binary/octet-stream",
                            "etag": "213e76fbc4f3c7adc87f0b4f0a92665f",
                            "force_destroy": "false",
                            "id": "scripts/EMR/main.py",
                            "key": "scripts/EMR/main.py",
                            "metadata.%": "0",
                            "object_lock_legal_hold_status": "",
                            "object_lock_mode": "",
                            "object_lock_retain_until_date": "",
                            "server_side_encryption": "",
                            "source": "D:\\DataScience\\dsci-tf-engagement-score-orchestration/pyspark/main.py",
                            "storage_class": "STANDARD",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "version_id": "",
                            "website_redirect": ""
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "aws_sfn_state_machine.sfn_state_machine": {
                    "type": "aws_sfn_state_machine",
                    "depends_on": [
                        "aws_iam_role.state_machine_role",
                        "data.template_file.sfn_definition",
                        "local.dsci_training_step_function_name"
                    ],
                    "primary": {
                        "id": "arn:aws:states:eu-west-1:428785023349:stateMachine:dsci-cs-engagement-score-step-function",
                        "attributes": {
                            "creation_date": "2019-12-20T14:07:37Z",
                            "definition": "{\r\n    \"StartAt\": \"Start - Notify Slack\",\r\n    \"States\": {\r\n        \"Start - Notify Slack\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_start_engagement_score_job\",\r\n            \"ResultPath\": \"$.results.slack_message_start_engagement_score_job\",\r\n            \"Next\": \"Get model to be trained\"\r\n        },\r\n        \"Get model to be trained\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param\",\r\n            \"InputPath\": \"$.inputs.run_get_params_lambda\",\r\n            \"ResultPath\": \"$.results.run_get_params_lambda\",\r\n            \"Next\": \"Create EMR Cluster\"\r\n        },\r\n        \"Create EMR Cluster\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:createCluster.sync\",\r\n            \"Parameters\": {\r\n                \"Name\": \"dsci-cs-contract-prediction\",\r\n                \"LogUri\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/emr-logs/\",\r\n                \"ReleaseLabel\": \"emr-5.21.0\",\r\n                \"Applications\": [\r\n                    {\r\n                        \"Name\": \"Hadoop\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Spark\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Ganglia\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Livy\"\r\n                    }\r\n                ],\r\n                \"Instances\": {\r\n                    \"InstanceGroups\": [\r\n                        {\r\n                            \"Name\": \"Master nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"MASTER\",\r\n                            \"InstanceType\": \"m5.xlarge\",\r\n                            \"InstanceCount\": 1\r\n                    },\r\n                        {\r\n                            \"Name\": \"Slave nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"CORE\",\r\n                            \"InstanceType\": \"r5d.4xlarge\",\r\n                            \"InstanceCount\": 3\r\n                    }\r\n                    ],\r\n                    \"KeepJobFlowAliveWhenNoSteps\": true,\r\n                    \"TerminationProtected\": false,\r\n                    \"Ec2SubnetId\": \"subnet-08fba2cae3fe35f2a\"\r\n                },\r\n                \"Configurations\": [\r\n                    {\r\n                        \"Classification\": \"spark-defaults\",\r\n                        \"Properties\": {\r\n                            \"spark.driver.cores\": \"5\",\r\n                            \"spark.driver.memory\": \"36G\",\r\n                            \"spark.executor.cores\": \"5\",\r\n                            \"spark.executor.memory\": \"36G\",\r\n                            \"spark.executor.instances\": \"8\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"BootstrapActions\": [\r\n                    {\r\n                        \"Name\": \"Install dependency\",\r\n                        \"ScriptBootstrapAction\": {\r\n                            \"Path\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/install_dependencies.sh\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"VisibleToAllUsers\": true,\r\n                \"JobFlowRole\": \"EMR_EC2_DefaultRole\",\r\n                \"ServiceRole\": \"EMR_DefaultRole\",\r\n                \"Tags\": [\r\n                    {\r\n                        \"Key\": \"Project\",\r\n                        \"Value\": \"Contract-Prediction-Orchestration\"\r\n                    }\r\n                ]\r\n            },\r\n            \"ResultPath\": \"$.results.create_emr_cluster\",\r\n            \"Next\": \"Load contract prediction model\"\r\n        },\r\n        \"Load contract prediction model\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:addStep.sync\",\r\n            \"Parameters\": {\r\n                \"ClusterId.$\": \"$.results.create_emr_cluster.ClusterId\",\r\n                \"Step\": {\r\n                    \"Name\": \"Load_Salesforce_Transformations\",\r\n                    \"ActionOnFailure\": \"TERMINATE_CLUSTER\",\r\n                    \"HadoopJarStep\": {\r\n                        \"Jar\": \"command-runner.jar\",\r\n                        \"Args\": [\r\n\t\t\t\t\t\t\t\"spark-submit\",\r\n\t\t\t\t\t\t\t\"--deploy-mode\",\r\n\t\t\t\t\t\t\t\"cluster\",\r\n\t\t\t\t\t\t\t\"--py-files\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/common.zip\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR//main.py\",\r\n\t\t\t\t\t\t\t\"-hc\",\r\n\t\t\t\t\t\t\t\"churn\",\r\n\t\t\t\t\t\t\t\"-hm\",\r\n\t\t\t\t\t\t\t\"train\",\r\n\t\t\t\t\t\t\t\"-hn\",\r\n\t\t\t\t\t\t\t\"accounting_established\",\r\n\t\t\t\t\t\t\t\"-hd\",\r\n\t\t\t\t\t\t\t\"2019-08-08\"\r\n                        ]\r\n                    }\r\n                }\r\n            },\r\n            \"ResultPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n            \"Next\": \"Get status of EMR cluster\"\r\n        },\r\n        \"Get status of EMR cluster\": {\r\n          \"Type\": \"Task\",\r\n          \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status\",\r\n          \"InputPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n          \"ResultPath\": \"$.results.run_engagement_score_emr_cluster_status\",\r\n          \"Next\": \"Is EMR completed?\"\r\n        },\r\n        \"Is EMR completed?\" :{\r\n            \"Type\": \"Choice\",\r\n            \"Choices\": [\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED\",\r\n                    \"Next\": \"Step function done - Notify Slack\"\r\n                },\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED_WITH_ERRORS\",\r\n                    \"Next\": \"Step function failed - Notify Slack\"\r\n                }\r\n            ],\r\n            \"Default\": \"Step function failed - Notify Slack\"\r\n        },\r\n        \"Step function done - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_success_job\",\r\n            \"End\": true\r\n        },\r\n        \"Step function failed - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_failed_job\",\r\n            \"End\": true\r\n        }\r\n    }\r\n}",
                            "id": "arn:aws:states:eu-west-1:428785023349:stateMachine:dsci-cs-engagement-score-step-function",
                            "name": "dsci-cs-engagement-score-step-function",
                            "role_arn": "arn:aws:iam::428785023349:role/dsci-cs-engagement-score-step-function-iam-role",
                            "status": "ACTIVE",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.state_machine_assume_role_policy_document": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "2478221018",
                        "attributes": {
                            "id": "2478221018",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"states.amazonaws.com\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.2528466339": "sts:AssumeRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.2091813330.identifiers.#": "1",
                            "statement.0.principals.2091813330.identifiers.2008431988": "states.amazonaws.com",
                            "statement.0.principals.2091813330.type": "Service",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.state_machine_iam_policy_document": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3328250018",
                        "attributes": {
                            "id": "3328250018",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"lambda:InvokeFunction\",\n      \"Resource\": [\n        \"arn:aws:lambda:*:*:function:dsci*\",\n        \"arn:aws:lambda:*:*:function:cig-sagemaker*\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:*\",\n        \"lambda:InvokeFunction\",\n        \"iam:PassRole\",\n        \"elasticmapreduce:terminateJobFlows\",\n        \"elasticmapreduce:addJobFlowSteps\",\n        \"elasticmapreduce:RunJobFlow\",\n        \"elasticmapreduce:DescribeStep\",\n        \"elasticmapreduce:DescribeCluster\"\n      ],\n      \"Resource\": [\n        \"arn:aws:lambda:*:*:function:cig-start-glue-crawler\",\n        \"arn:aws:lambda:*:*:function:cig-get-glue-crawler-status\",\n        \"*\"\n      ]\n    }\n  ]\n}",
                            "statement.#": "2",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.3363766922": "lambda:InvokeFunction",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "2",
                            "statement.0.resources.2453829800": "arn:aws:lambda:*:*:function:dsci*",
                            "statement.0.resources.3601398916": "arn:aws:lambda:*:*:function:cig-sagemaker*",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "8",
                            "statement.1.actions.1447121742": "elasticmapreduce:DescribeStep",
                            "statement.1.actions.1486695974": "elasticmapreduce:DescribeCluster",
                            "statement.1.actions.1834123015": "s3:*",
                            "statement.1.actions.2533535584": "elasticmapreduce:terminateJobFlows",
                            "statement.1.actions.2744196997": "elasticmapreduce:addJobFlowSteps",
                            "statement.1.actions.3363766922": "lambda:InvokeFunction",
                            "statement.1.actions.3856501040": "elasticmapreduce:RunJobFlow",
                            "statement.1.actions.646648939": "iam:PassRole",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "3",
                            "statement.1.resources.1845263131": "arn:aws:lambda:*:*:function:cig-start-glue-crawler",
                            "statement.1.resources.2597839309": "arn:aws:lambda:*:*:function:cig-get-glue-crawler-status",
                            "statement.1.resources.2679715827": "*",
                            "statement.1.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lambda_function.get_emr_cluster_status": {
                    "type": "aws_lambda_function",
                    "depends_on": [],
                    "primary": {
                        "id": "cig-sagemaker-get-emr-cluster-status",
                        "attributes": {
                            "arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status",
                            "dead_letter_config.#": "0",
                            "description": "Lambda function to get an emr cluster status",
                            "environment.#": "1",
                            "environment.0.variables.%": "1",
                            "environment.0.variables.FOO": "bar",
                            "function_name": "cig-sagemaker-get-emr-cluster-status",
                            "handler": "handler.lambda_handler",
                            "id": "cig-sagemaker-get-emr-cluster-status",
                            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-08-07T08:39:57.358+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "qualified_arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status:$LATEST",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::428785023349:role/cig-sagemaker-get-emr-cluster-status",
                            "runtime": "python3.7",
                            "source_code_hash": "AkBp/LZOxk4Wxmv9Pz39qBCdJOnAK/mGwiBYgVZ0Ick=",
                            "source_code_size": "282",
                            "tags.%": "2",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-utilities",
                            "tags.Terraform": "true",
                            "timeout": "10",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lambda_function.notify_slack": {
                    "type": "aws_lambda_function",
                    "depends_on": [],
                    "primary": {
                        "id": "cig-sagemaker-slack",
                        "attributes": {
                            "arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack",
                            "dead_letter_config.#": "0",
                            "description": "Lambda function to post messages to slack",
                            "environment.#": "1",
                            "environment.0.variables.%": "1",
                            "environment.0.variables.FOO": "bar",
                            "function_name": "cig-sagemaker-slack",
                            "handler": "handler.lambda_handler",
                            "id": "cig-sagemaker-slack",
                            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-11-18T12:30:17.648+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "qualified_arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack:$LATEST",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::428785023349:role/cig-sagemaker-slack",
                            "runtime": "nodejs10.x",
                            "source_code_hash": "pLVmrP4UexZYR6S42VEEhM5jWkFSAOc3lF6Xf9YouL4=",
                            "source_code_size": "509",
                            "tags.%": "2",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-utilities",
                            "tags.Terraform": "true",
                            "timeout": "10",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_lambda_function.run_emr": {
                    "type": "aws_lambda_function",
                    "depends_on": [],
                    "primary": {
                        "id": "cig-sagemaker-run-emr-job",
                        "attributes": {
                            "arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-run-emr-job",
                            "dead_letter_config.#": "0",
                            "description": "Lambda function to start an emr job",
                            "environment.#": "1",
                            "environment.0.variables.%": "1",
                            "environment.0.variables.FOO": "bar",
                            "function_name": "cig-sagemaker-run-emr-job",
                            "handler": "handler.lambda_handler",
                            "id": "cig-sagemaker-run-emr-job",
                            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-run-emr-job/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-08-07T08:39:57.021+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "qualified_arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-run-emr-job:$LATEST",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::428785023349:role/cig-sagemaker-run-emr-job",
                            "runtime": "python3.7",
                            "source_code_hash": "jU6jItbHWvCQ+MJkiQi7b61WNy9FGTzXI8vr1WwdRio=",
                            "source_code_size": "638",
                            "tags.%": "2",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-utilities",
                            "tags.Terraform": "true",
                            "timeout": "10",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.template_file.sfn_definition": {
                    "type": "template_file",
                    "depends_on": [
                        "data.aws_lambda_function.get_emr_cluster_status",
                        "data.aws_lambda_function.notify_slack",
                        "data.aws_lambda_function.run_emr",
                        "module.lambdas"
                    ],
                    "primary": {
                        "id": "c45701b66454f6293497998bdfdfa89be8b3d679b3e84253086f09d0847c81dd",
                        "attributes": {
                            "id": "c45701b66454f6293497998bdfdfa89be8b3d679b3e84253086f09d0847c81dd",
                            "rendered": "{\r\n    \"StartAt\": \"Start - Notify Slack\",\r\n    \"States\": {\r\n        \"Start - Notify Slack\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_start_engagement_score_job\",\r\n            \"ResultPath\": \"$.results.slack_message_start_engagement_score_job\",\r\n            \"Next\": \"Get model to be trained\"\r\n        },\r\n        \"Get model to be trained\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param\",\r\n            \"InputPath\": \"$.inputs.run_get_params_lambda\",\r\n            \"ResultPath\": \"$.results.run_get_params_lambda\",\r\n            \"Next\": \"Create EMR Cluster\"\r\n        },\r\n        \"Create EMR Cluster\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:createCluster.sync\",\r\n            \"Parameters\": {\r\n                \"Name\": \"dsci-cs-contract-prediction\",\r\n                \"LogUri\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/emr-logs/\",\r\n                \"ReleaseLabel\": \"emr-5.21.0\",\r\n                \"Applications\": [\r\n                    {\r\n                        \"Name\": \"Hadoop\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Spark\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Ganglia\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Livy\"\r\n                    }\r\n                ],\r\n                \"Instances\": {\r\n                    \"InstanceGroups\": [\r\n                        {\r\n                            \"Name\": \"Master nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"MASTER\",\r\n                            \"InstanceType\": \"m5.xlarge\",\r\n                            \"InstanceCount\": 1\r\n                    },\r\n                        {\r\n                            \"Name\": \"Slave nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"CORE\",\r\n                            \"InstanceType\": \"r5d.4xlarge\",\r\n                            \"InstanceCount\": 3\r\n                    }\r\n                    ],\r\n                    \"KeepJobFlowAliveWhenNoSteps\": true,\r\n                    \"TerminationProtected\": false,\r\n                    \"Ec2SubnetId\": \"subnet-08fba2cae3fe35f2a\"\r\n                },\r\n                \"Configurations\": [\r\n                    {\r\n                        \"Classification\": \"spark-defaults\",\r\n                        \"Properties\": {\r\n                            \"spark.driver.cores\": \"5\",\r\n                            \"spark.driver.memory\": \"36G\",\r\n                            \"spark.executor.cores\": \"5\",\r\n                            \"spark.executor.memory\": \"36G\",\r\n                            \"spark.executor.instances\": \"8\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"BootstrapActions\": [\r\n                    {\r\n                        \"Name\": \"Install dependency\",\r\n                        \"ScriptBootstrapAction\": {\r\n                            \"Path\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/install_dependencies.sh\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"VisibleToAllUsers\": true,\r\n                \"JobFlowRole\": \"EMR_EC2_DefaultRole\",\r\n                \"ServiceRole\": \"EMR_DefaultRole\",\r\n                \"Tags\": [\r\n                    {\r\n                        \"Key\": \"Project\",\r\n                        \"Value\": \"Contract-Prediction-Orchestration\"\r\n                    }\r\n                ]\r\n            },\r\n            \"ResultPath\": \"$.results.create_emr_cluster\",\r\n            \"Next\": \"Load contract prediction model\"\r\n        },\r\n        \"Load contract prediction model\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:addStep.sync\",\r\n            \"Parameters\": {\r\n                \"ClusterId.$\": \"$.results.create_emr_cluster.ClusterId\",\r\n                \"Step\": {\r\n                    \"Name\": \"Load_Salesforce_Transformations\",\r\n                    \"ActionOnFailure\": \"TERMINATE_CLUSTER\",\r\n                    \"HadoopJarStep\": {\r\n                        \"Jar\": \"command-runner.jar\",\r\n                        \"Args\": [\r\n\t\t\t\t\t\t\t\"spark-submit\",\r\n\t\t\t\t\t\t\t\"--deploy-mode\",\r\n\t\t\t\t\t\t\t\"cluster\",\r\n\t\t\t\t\t\t\t\"--py-files\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/common.zip\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR//main.py\",\r\n\t\t\t\t\t\t\t\"-hc\",\r\n\t\t\t\t\t\t\t\"churn\",\r\n\t\t\t\t\t\t\t\"-hm\",\r\n\t\t\t\t\t\t\t\"train\",\r\n\t\t\t\t\t\t\t\"-hn\",\r\n\t\t\t\t\t\t\t\"accounting_established\",\r\n\t\t\t\t\t\t\t\"-hd\",\r\n\t\t\t\t\t\t\t\"2019-08-08\"\r\n                        ]\r\n                    }\r\n                }\r\n            },\r\n            \"ResultPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n            \"Next\": \"Get status of EMR cluster\"\r\n        },\r\n        \"Get status of EMR cluster\": {\r\n          \"Type\": \"Task\",\r\n          \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status\",\r\n          \"InputPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n          \"ResultPath\": \"$.results.run_engagement_score_emr_cluster_status\",\r\n          \"Next\": \"Is EMR completed?\"\r\n        },\r\n        \"Is EMR completed?\" :{\r\n            \"Type\": \"Choice\",\r\n            \"Choices\": [\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED\",\r\n                    \"Next\": \"Step function done - Notify Slack\"\r\n                },\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED_WITH_ERRORS\",\r\n                    \"Next\": \"Step function failed - Notify Slack\"\r\n                }\r\n            ],\r\n            \"Default\": \"Step function failed - Notify Slack\"\r\n        },\r\n        \"Step function done - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_success_job\",\r\n            \"End\": true\r\n        },\r\n        \"Step function failed - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack\",\r\n            \"InputPath\": \"$.inputs.slack_message_failed_job\",\r\n            \"End\": true\r\n        }\r\n    }\r\n}",
                            "template": "{\r\n    \"StartAt\": \"Start - Notify Slack\",\r\n    \"States\": {\r\n        \"Start - Notify Slack\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"${cig-sagemaker-slack-lambda-arn}\",\r\n            \"InputPath\": \"$.inputs.slack_message_start_engagement_score_job\",\r\n            \"ResultPath\": \"$.results.slack_message_start_engagement_score_job\",\r\n            \"Next\": \"Get model to be trained\"\r\n        },\r\n        \"Get model to be trained\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"${cig-engagement-score-get-param-lambda-arn}\",\r\n            \"InputPath\": \"$.inputs.run_get_params_lambda\",\r\n            \"ResultPath\": \"$.results.run_get_params_lambda\",\r\n            \"Next\": \"Create EMR Cluster\"\r\n        },\r\n        \"Create EMR Cluster\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:createCluster.sync\",\r\n            \"Parameters\": {\r\n                \"Name\": \"dsci-cs-contract-prediction\",\r\n                \"LogUri\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/emr-logs/\",\r\n                \"ReleaseLabel\": \"emr-5.21.0\",\r\n                \"Applications\": [\r\n                    {\r\n                        \"Name\": \"Hadoop\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Spark\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Ganglia\"\r\n                    },\r\n                    {\r\n                        \"Name\": \"Livy\"\r\n                    }\r\n                ],\r\n                \"Instances\": {\r\n                    \"InstanceGroups\": [\r\n                        {\r\n                            \"Name\": \"Master nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"MASTER\",\r\n                            \"InstanceType\": \"m5.xlarge\",\r\n                            \"InstanceCount\": 1\r\n                    },\r\n                        {\r\n                            \"Name\": \"Slave nodes\",\r\n                            \"Market\": \"ON_DEMAND\",\r\n                            \"InstanceRole\": \"CORE\",\r\n                            \"InstanceType\": \"r5d.4xlarge\",\r\n                            \"InstanceCount\": 3\r\n                    }\r\n                    ],\r\n                    \"KeepJobFlowAliveWhenNoSteps\": true,\r\n                    \"TerminationProtected\": false,\r\n                    \"Ec2SubnetId\": \"subnet-08fba2cae3fe35f2a\"\r\n                },\r\n                \"Configurations\": [\r\n                    {\r\n                        \"Classification\": \"spark-defaults\",\r\n                        \"Properties\": {\r\n                            \"spark.driver.cores\": \"5\",\r\n                            \"spark.driver.memory\": \"36G\",\r\n                            \"spark.executor.cores\": \"5\",\r\n                            \"spark.executor.memory\": \"36G\",\r\n                            \"spark.executor.instances\": \"8\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"BootstrapActions\": [\r\n                    {\r\n                        \"Name\": \"Install dependency\",\r\n                        \"ScriptBootstrapAction\": {\r\n                            \"Path\": \"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/install_dependencies.sh\"\r\n                        }\r\n                    }\r\n                ],\r\n                \"VisibleToAllUsers\": true,\r\n                \"JobFlowRole\": \"EMR_EC2_DefaultRole\",\r\n                \"ServiceRole\": \"EMR_DefaultRole\",\r\n                \"Tags\": [\r\n                    {\r\n                        \"Key\": \"Project\",\r\n                        \"Value\": \"Contract-Prediction-Orchestration\"\r\n                    }\r\n                ]\r\n            },\r\n            \"ResultPath\": \"$.results.create_emr_cluster\",\r\n            \"Next\": \"Load contract prediction model\"\r\n        },\r\n        \"Load contract prediction model\": {\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"arn:aws:states:::elasticmapreduce:addStep.sync\",\r\n            \"Parameters\": {\r\n                \"ClusterId.$\": \"$.results.create_emr_cluster.ClusterId\",\r\n                \"Step\": {\r\n                    \"Name\": \"Load_Salesforce_Transformations\",\r\n                    \"ActionOnFailure\": \"TERMINATE_CLUSTER\",\r\n                    \"HadoopJarStep\": {\r\n                        \"Jar\": \"command-runner.jar\",\r\n                        \"Args\": [\r\n\t\t\t\t\t\t\t\"spark-submit\",\r\n\t\t\t\t\t\t\t\"--deploy-mode\",\r\n\t\t\t\t\t\t\t\"cluster\",\r\n\t\t\t\t\t\t\t\"--py-files\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR/common.zip\",\r\n\t\t\t\t\t\t\t\"s3://dd-dsci-contract-prediction-428785023349-eu-west-1/scripts/EMR//main.py\",\r\n\t\t\t\t\t\t\t\"-hc\",\r\n\t\t\t\t\t\t\t\"churn\",\r\n\t\t\t\t\t\t\t\"-hm\",\r\n\t\t\t\t\t\t\t\"train\",\r\n\t\t\t\t\t\t\t\"-hn\",\r\n\t\t\t\t\t\t\t\"accounting_established\",\r\n\t\t\t\t\t\t\t\"-hd\",\r\n\t\t\t\t\t\t\t\"2019-08-08\"\r\n                        ]\r\n                    }\r\n                }\r\n            },\r\n            \"ResultPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n            \"Next\": \"Get status of EMR cluster\"\r\n        },\r\n        \"Get status of EMR cluster\": {\r\n          \"Type\": \"Task\",\r\n          \"Resource\": \"${dsci-engagement-score-emr-get-status-lambda-arn}\",\r\n          \"InputPath\": \"$.results.run_engagement_score_emr_cluster\",\r\n          \"ResultPath\": \"$.results.run_engagement_score_emr_cluster_status\",\r\n          \"Next\": \"Is EMR completed?\"\r\n        },\r\n        \"Is EMR completed?\" :{\r\n            \"Type\": \"Choice\",\r\n            \"Choices\": [\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED\",\r\n                    \"Next\": \"Step function done - Notify Slack\"\r\n                },\r\n                {\r\n                    \"Variable\": \"$.results.run_engagement_score_emr_cluster_status.status\",\r\n                    \"StringEquals\": \"TERMINATED_WITH_ERRORS\",\r\n                    \"Next\": \"Step function failed - Notify Slack\"\r\n                }\r\n            ],\r\n            \"Default\": \"Step function failed - Notify Slack\"\r\n        },\r\n        \"Step function done - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"${cig-sagemaker-slack-lambda-arn}\",\r\n            \"InputPath\": \"$.inputs.slack_message_success_job\",\r\n            \"End\": true\r\n        },\r\n        \"Step function failed - Notify Slack\" :{\r\n            \"Type\": \"Task\",\r\n            \"Resource\": \"${cig-sagemaker-slack-lambda-arn}\",\r\n            \"InputPath\": \"$.inputs.slack_message_failed_job\",\r\n            \"End\": true\r\n        }\r\n    }\r\n}",
                            "vars.%": "4",
                            "vars.cig-engagement-score-get-param-lambda-arn": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param",
                            "vars.cig-sagemaker-slack-lambda-arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-slack",
                            "vars.dsci-engagement-score-emr-get-status-lambda-arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-get-emr-cluster-status",
                            "vars.dsci-engagement-score-run-emr-job-arn": "arn:aws:lambda:eu-west-1:428785023349:function:cig-sagemaker-run-emr-job"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.template"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lambdas"
            ],
            "outputs": {
                "lambda_engagement_score_get_param_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param"
                }
            },
            "resources": {
                "data.archive_file.engagement_score_bookmark_archive_file": {
                    "type": "archive_file",
                    "depends_on": [
                        "data.null_data_source.engagement_score_bookmark_archive",
                        "data.null_data_source.engagement_score_bookmark_archive_file"
                    ],
                    "primary": {
                        "id": "580f5adb4773d3cc0b3950d47ac78ae8646ccdd3",
                        "attributes": {
                            "id": "580f5adb4773d3cc0b3950d47ac78ae8646ccdd3",
                            "output_base64sha256": "CCEDCLZmqMLZTlMkJdDKtQkImFBSOMjutXry+J0Z7yg=",
                            "output_md5": "7475d7aca5d737ebb5dc8c70ed4a1d58",
                            "output_path": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/dsci-engagement-score-bookmark.zip",
                            "output_sha": "580f5adb4773d3cc0b3950d47ac78ae8646ccdd3",
                            "output_size": "525",
                            "source.#": "0",
                            "source_file": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/handler.py",
                            "type": "zip"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.archive"
                },
                "data.archive_file.engagement_score_get_param_archive_file": {
                    "type": "archive_file",
                    "depends_on": [
                        "data.null_data_source.engagement_score_get_param_archive",
                        "data.null_data_source.engagement_score_get_param_lambda_file"
                    ],
                    "primary": {
                        "id": "50f36b7ad97d2c029aeb906979ba285af32f410e",
                        "attributes": {
                            "id": "50f36b7ad97d2c029aeb906979ba285af32f410e",
                            "output_base64sha256": "QzYVIEw37/By5VTgIE4MxfJ1V+4B+ctSbezPMT+G+Y0=",
                            "output_md5": "506ee941a04667b600511a59efdb1395",
                            "output_path": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/dsci-engagement-score-get-param.zip",
                            "output_sha": "50f36b7ad97d2c029aeb906979ba285af32f410e",
                            "output_size": "1488",
                            "source.#": "0",
                            "source_file": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/handler.py",
                            "type": "zip"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.archive"
                },
                "data.aws_iam_policy_document.engagement_score_bookmark_iam_policy_document": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "2855820913",
                        "attributes": {
                            "id": "2855820913",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"dynamodb:PutItem\",\n      \"Resource\": \"arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table\"\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.229017339": "dynamodb:PutItem",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "1",
                            "statement.0.resources.1591058648": "arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.engagement_score_get_param_iam_policy_document": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3522640169",
                        "attributes": {
                            "id": "3522640169",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": [\n        \"arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1\",\n        \"arn:aws:s3:::cig-dev-domain-bucket\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": [\n        \"arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1/artifacts/*\",\n        \"arn:aws:s3:::cig-dev-domain-bucket/Data/ActivityDaily/*\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:UpdateItem\",\n        \"dynamodb:Scan\",\n        \"dynamodb:Query\",\n        \"dynamodb:PutItem\",\n        \"dynamodb:GetItem\",\n        \"dynamodb:BatchWriteItem\",\n        \"dynamodb:BatchGetItem\"\n      ],\n      \"Resource\": \"arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table\"\n    }\n  ]\n}",
                            "statement.#": "3",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.486976917": "s3:ListBucket",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "0",
                            "statement.0.resources.#": "2",
                            "statement.0.resources.1925732339": "arn:aws:s3:::cig-dev-domain-bucket",
                            "statement.0.resources.2313225376": "arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1",
                            "statement.0.sid": "",
                            "statement.1.actions.#": "1",
                            "statement.1.actions.2071725391": "s3:GetObject",
                            "statement.1.condition.#": "0",
                            "statement.1.effect": "Allow",
                            "statement.1.not_actions.#": "0",
                            "statement.1.not_principals.#": "0",
                            "statement.1.not_resources.#": "0",
                            "statement.1.principals.#": "0",
                            "statement.1.resources.#": "2",
                            "statement.1.resources.3439111937": "arn:aws:s3:::cig-dev-domain-bucket/Data/ActivityDaily/*",
                            "statement.1.resources.3804576415": "arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1/artifacts/*",
                            "statement.1.sid": "",
                            "statement.2.actions.#": "7",
                            "statement.2.actions.2015996996": "dynamodb:BatchGetItem",
                            "statement.2.actions.229017339": "dynamodb:PutItem",
                            "statement.2.actions.3660559394": "dynamodb:Query",
                            "statement.2.actions.3722646528": "dynamodb:UpdateItem",
                            "statement.2.actions.470163975": "dynamodb:GetItem",
                            "statement.2.actions.762951030": "dynamodb:BatchWriteItem",
                            "statement.2.actions.913837160": "dynamodb:Scan",
                            "statement.2.condition.#": "0",
                            "statement.2.effect": "Allow",
                            "statement.2.not_actions.#": "0",
                            "statement.2.not_principals.#": "0",
                            "statement.2.not_resources.#": "0",
                            "statement.2.principals.#": "0",
                            "statement.2.resources.#": "1",
                            "statement.2.resources.1591058648": "arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table",
                            "statement.2.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.aws_iam_policy_document.lambda_assume_role": {
                    "type": "aws_iam_policy_document",
                    "depends_on": [],
                    "primary": {
                        "id": "3693445097",
                        "attributes": {
                            "id": "3693445097",
                            "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}",
                            "statement.#": "1",
                            "statement.0.actions.#": "1",
                            "statement.0.actions.2528466339": "sts:AssumeRole",
                            "statement.0.condition.#": "0",
                            "statement.0.effect": "Allow",
                            "statement.0.not_actions.#": "0",
                            "statement.0.not_principals.#": "0",
                            "statement.0.not_resources.#": "0",
                            "statement.0.principals.#": "1",
                            "statement.0.principals.3118762561.identifiers.#": "1",
                            "statement.0.principals.3118762561.identifiers.2638019528": "lambda.amazonaws.com",
                            "statement.0.principals.3118762561.type": "Service",
                            "statement.0.resources.#": "0",
                            "statement.0.sid": "",
                            "version": "2012-10-17"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.aws"
                },
                "data.null_data_source.engagement_score_bookmark_archive": {
                    "type": "null_data_source",
                    "depends_on": [],
                    "primary": {
                        "id": "static",
                        "attributes": {
                            "has_computed_default": "default",
                            "id": "static",
                            "inputs.%": "1",
                            "inputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/dsci-engagement-score-bookmark.zip",
                            "outputs.%": "1",
                            "outputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/dsci-engagement-score-bookmark.zip",
                            "random": "1734103487791323032"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "data.null_data_source.engagement_score_bookmark_archive_file": {
                    "type": "null_data_source",
                    "depends_on": [],
                    "primary": {
                        "id": "static",
                        "attributes": {
                            "has_computed_default": "default",
                            "id": "static",
                            "inputs.%": "1",
                            "inputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/handler.py",
                            "outputs.%": "1",
                            "outputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/handler.py",
                            "random": "5835125947776040419"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "data.null_data_source.engagement_score_get_param_archive": {
                    "type": "null_data_source",
                    "depends_on": [],
                    "primary": {
                        "id": "static",
                        "attributes": {
                            "has_computed_default": "default",
                            "id": "static",
                            "inputs.%": "1",
                            "inputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/dsci-engagement-score-get-param.zip",
                            "outputs.%": "1",
                            "outputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/dsci-engagement-score-get-param.zip",
                            "random": "3061618791039280575"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                },
                "data.null_data_source.engagement_score_get_param_lambda_file": {
                    "type": "null_data_source",
                    "depends_on": [],
                    "primary": {
                        "id": "static",
                        "attributes": {
                            "has_computed_default": "default",
                            "id": "static",
                            "inputs.%": "1",
                            "inputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/handler.py",
                            "outputs.%": "1",
                            "outputs.filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/handler.py",
                            "random": "8186031399216487861"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "provider.null"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lambdas",
                "lambda_engagement_score_bookmark"
            ],
            "outputs": {
                "iam_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::428785023349:role/dsci-cs-bookmark"
                },
                "invocation_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-bookmark/invocations"
                },
                "lambda_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-bookmark"
                },
                "lambda_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dsci-cs-bookmark"
                }
            },
            "resources": {
                "aws_iam_role.iam_for_lambda": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "dsci-cs-bookmark",
                        "attributes": {
                            "arn": "arn:aws:iam::428785023349:role/dsci-cs-bookmark",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-12-20T14:07:15Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "dsci-cs-bookmark",
                            "max_session_duration": "3600",
                            "name": "dsci-cs-bookmark",
                            "path": "/",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "unique_id": "AROAWHVMUHF26AGR755Q5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_bookmark.provider.aws"
                },
                "aws_iam_role_policy.iam_policy_for_lambda": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.iam_for_lambda"
                    ],
                    "primary": {
                        "id": "dsci-cs-bookmark:dsci-cs-bookmark",
                        "attributes": {
                            "id": "dsci-cs-bookmark:dsci-cs-bookmark",
                            "name": "dsci-cs-bookmark",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"dynamodb:PutItem\",\n      \"Resource\": \"arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table\"\n    }\n  ]\n}",
                            "role": "dsci-cs-bookmark"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_bookmark.provider.aws"
                },
                "aws_lambda_function.lambda": {
                    "type": "aws_lambda_function",
                    "depends_on": [
                        "aws_iam_role.iam_for_lambda"
                    ],
                    "primary": {
                        "id": "dsci-cs-bookmark",
                        "attributes": {
                            "arn": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-bookmark",
                            "dead_letter_config.#": "0",
                            "description": "Bookmark training and prediction latest execution date for engagement score",
                            "environment.#": "1",
                            "environment.0.variables.%": "1",
                            "environment.0.variables.dynamodb_table": "dsci-cs-bookmark-table",
                            "filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-bookmark/dsci-engagement-score-bookmark.zip",
                            "function_name": "dsci-cs-bookmark",
                            "handler": "handler.lambda_handler",
                            "id": "dsci-cs-bookmark",
                            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-bookmark/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-12-20T14:07:37.102+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "publish": "false",
                            "qualified_arn": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-bookmark:$LATEST",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::428785023349:role/dsci-cs-bookmark",
                            "runtime": "python3.7",
                            "source_code_hash": "CCEDCLZmqMLZTlMkJdDKtQkImFBSOMjutXry+J0Z7yg=",
                            "source_code_size": "525",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "timeout": "240",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_bookmark.provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lambdas",
                "lambda_engagement_score_get_param"
            ],
            "outputs": {
                "iam_role_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:iam::428785023349:role/dsci-cs-get-param"
                },
                "invocation_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param/invocations"
                },
                "lambda_arn": {
                    "sensitive": false,
                    "type": "string",
                    "value": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param"
                },
                "lambda_name": {
                    "sensitive": false,
                    "type": "string",
                    "value": "dsci-cs-get-param"
                }
            },
            "resources": {
                "aws_iam_role.iam_for_lambda": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "dsci-cs-get-param",
                        "attributes": {
                            "arn": "arn:aws:iam::428785023349:role/dsci-cs-get-param",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2019-12-20T14:07:14Z",
                            "description": "",
                            "force_detach_policies": "false",
                            "id": "dsci-cs-get-param",
                            "max_session_duration": "3600",
                            "name": "dsci-cs-get-param",
                            "path": "/",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "unique_id": "AROAWHVMUHF2YDJZSG5T6"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_get_param.provider.aws"
                },
                "aws_iam_role_policy.iam_policy_for_lambda": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.iam_for_lambda"
                    ],
                    "primary": {
                        "id": "dsci-cs-get-param:dsci-cs-get-param",
                        "attributes": {
                            "id": "dsci-cs-get-param:dsci-cs-get-param",
                            "name": "dsci-cs-get-param",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:ListBucket\",\n      \"Resource\": [\n        \"arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1\",\n        \"arn:aws:s3:::cig-dev-domain-bucket\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"s3:GetObject\",\n      \"Resource\": [\n        \"arn:aws:s3:::dd-dsci-contract-prediction-428785023349-eu-west-1/artifacts/*\",\n        \"arn:aws:s3:::cig-dev-domain-bucket/Data/ActivityDaily/*\"\n      ]\n    },\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"dynamodb:UpdateItem\",\n        \"dynamodb:Scan\",\n        \"dynamodb:Query\",\n        \"dynamodb:PutItem\",\n        \"dynamodb:GetItem\",\n        \"dynamodb:BatchWriteItem\",\n        \"dynamodb:BatchGetItem\"\n      ],\n      \"Resource\": \"arn:aws:dynamodb:eu-west-1:428785023349:table/dsci-cs-bookmark-table\"\n    }\n  ]\n}",
                            "role": "dsci-cs-get-param"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_get_param.provider.aws"
                },
                "aws_lambda_function.lambda": {
                    "type": "aws_lambda_function",
                    "depends_on": [
                        "aws_iam_role.iam_for_lambda"
                    ],
                    "primary": {
                        "id": "dsci-cs-get-param",
                        "attributes": {
                            "arn": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param",
                            "dead_letter_config.#": "0",
                            "description": "Get execution status of models",
                            "environment.#": "1",
                            "environment.0.variables.%": "1",
                            "environment.0.variables.FOO": "bar",
                            "filename": ".terraform\\modules\\12abb2ad78f1887cfb59de05bea1cb8d/functions/dsci-engagement-score-get-param/dsci-engagement-score-get-param.zip",
                            "function_name": "dsci-cs-get-param",
                            "handler": "handler.lambda_handler",
                            "id": "dsci-cs-get-param",
                            "invoke_arn": "arn:aws:apigateway:eu-west-1:lambda:path/2015-03-31/functions/arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param/invocations",
                            "kms_key_arn": "",
                            "last_modified": "2019-12-20T14:07:31.411+0000",
                            "layers.#": "0",
                            "memory_size": "128",
                            "publish": "false",
                            "qualified_arn": "arn:aws:lambda:eu-west-1:428785023349:function:dsci-cs-get-param:$LATEST",
                            "reserved_concurrent_executions": "-1",
                            "role": "arn:aws:iam::428785023349:role/dsci-cs-get-param",
                            "runtime": "python3.7",
                            "source_code_hash": "QzYVIEw37/By5VTgIE4MxfJ1V+4B+ctSbezPMT+G+Y0=",
                            "source_code_size": "1488",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true",
                            "timeout": "240",
                            "tracing_config.#": "1",
                            "tracing_config.0.mode": "PassThrough",
                            "version": "$LATEST",
                            "vpc_config.#": "0"
                        },
                        "meta": {
                            "e2bfb730-ecaa-11e6-8f88-34363bc7c4c0": {
                                "create": 600000000000
                            }
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_get_param.provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lambdas",
                "lambda_engagement_score_bookmark",
                "lambda_app_cloudwatch"
            ],
            "outputs": {},
            "resources": {
                "aws_cloudwatch_log_group.lambda_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/aws/lambda/dsci-cs-bookmark",
                        "attributes": {
                            "arn": "arn:aws:logs:eu-west-1:428785023349:log-group:/aws/lambda/dsci-cs-bookmark:*",
                            "id": "/aws/lambda/dsci-cs-bookmark",
                            "kms_key_id": "",
                            "name": "/aws/lambda/dsci-cs-bookmark",
                            "retention_in_days": "30",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_bookmark.module.lambda_app_cloudwatch.provider.aws"
                }
            },
            "depends_on": []
        },
        {
            "path": [
                "root",
                "lambdas",
                "lambda_engagement_score_get_param",
                "lambda_app_cloudwatch"
            ],
            "outputs": {},
            "resources": {
                "aws_cloudwatch_log_group.lambda_log_group": {
                    "type": "aws_cloudwatch_log_group",
                    "depends_on": [],
                    "primary": {
                        "id": "/aws/lambda/dsci-cs-get-param",
                        "attributes": {
                            "arn": "arn:aws:logs:eu-west-1:428785023349:log-group:/aws/lambda/dsci-cs-get-param:*",
                            "id": "/aws/lambda/dsci-cs-get-param",
                            "kms_key_id": "",
                            "name": "/aws/lambda/dsci-cs-get-param",
                            "retention_in_days": "30",
                            "tags.%": "3",
                            "tags.GitHub-Repo": "exactsoftware/dsci-tf-engagement-score",
                            "tags.Project": "Contract-Prediction",
                            "tags.Terraform": "true"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": "module.lambdas.module.lambda_engagement_score_get_param.module.lambda_app_cloudwatch.provider.aws"
                }
            },
            "depends_on": []
        }
    ]
}
